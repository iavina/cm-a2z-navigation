(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function c(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=c(e);fetch(e.href,t)}})();const l=n=>new CustomEvent("section:changed",{bubbles:!0,detail:n}),g=(n,o)=>{o.addEventListener("section:changed",e=>{y(e.target)});let c,s;n.cities.forEach(e=>{const t=document.createElement("div");t.className="nav-item",t.textContent=e.label,t.id=e.section,o.appendChild(t),t.addEventListener("click",()=>{t.dispatchEvent(l(e))}),c===void 0&&(c=t,s=e)}),c.dispatchEvent(l(s))},y=n=>{const o=document.querySelector(".nav-item.active");if((o==null?void 0:o.id)==n.id)return;o&&o.classList.remove("active"),n.classList.add("active");const c=document.getElementById("nav-bar"),s=document.querySelector("#underline-active"),e=c.getBoundingClientRect(),t=n.getBoundingClientRect(),r=`translate(${t.left-e.left}px, -1px)`,i=`scaleX(${t.width/100})`;s.style.transform=`${r} ${i}`},v=()=>{let n=0;const o=()=>{const c=new Date,s=c.getTime()+c.getTimezoneOffset()*6e4,e=new Date(s+n*36e5);w(e)};setInterval(()=>{o()},1e3),document.addEventListener("section:changed",c=>{const s=c.detail;h(s)&&(n=s.utc,L(s),o())})},h=n=>n.position===void 0?(console.error("Missing position data for city",n),!1):n.utc===void 0?(console.error("Missing UTC data for city",n),!1):!0,L=n=>{const o=document.querySelector("#world-map"),c=document.querySelector("#world-marker"),s=document.querySelector("#world-circle"),e=document.querySelector("#city"),t=n.position.x,r=n.position.y,i=o.getBoundingClientRect(),a=window.getComputedStyle(o),d=parseFloat(a.marginLeft),u=parseFloat(a.marginTop),m=d+i.width*(t/100),f=u+i.height*(r/100);e.textContent=n.label,c.style.transform=`translate(${m}px, ${f}px)`,s.classList.remove("bounce"),c.offsetWidth,s.classList.add("bounce");const p=document.querySelector(".clock");p.style.transform=`translateX(${t>50?-210:10}px)`},w=n=>{const o=document.querySelector("#time");o.textContent=n.toLocaleTimeString()};document.addEventListener("DOMContentLoaded",async()=>{const o=await(await fetch("navigation.json")).json();v();const c=document.getElementById("nav-list");g(o,c)});
